{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Azure Overview\"\noutput: \n  html_document:\n    toc: true\n    toc_float: true\n    number_sections: false\n    code_folding: show\n---\n\n```{r, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE)\n```\n\n# Azure Overview\n\nAzure is a Microsoft Cloud Service.\n\n# MySQL\n\nInstructions for instantiating a MySQL database on Azure will be added later, currently this template simply extracts data from an existent database.\n\n## Connecting to the Database\n\nThe following details are necessary to access the database, note that the .csv file containing the username and password is not provided in this tutorial due to security concerns.\n\n```{r}\nlogin_details <- read.csv(file = \"azure_mysql_login.csv\", stringsAsFactors = F)\ndatabase_domain <- \"eu-cdbr-azure-north-e.cloudapp.net\"\ndatabase_name <- \"testdatabase2\"\n```\n\nConnect!\n\n```{r}\nlogin_details$username\nlogin_details$password\n\nlibrary(RMySQL)\nazure_connection <- dbConnect(\n  RMySQL::MySQL(),\n  dbname = database_name,\n  host = database_domain,\n  username = login_details$username,\n  password = login_details$password,\n  port = 3306\n  )\n\nRMySQL::dbGetInfo(azure_connection)\n```\n\nList tables:\n\n```{r}\ndbListTables(azure_connection)\n```\n\nRead tables\n\n```{r}\ndbReadTable(azure_connection, \"new_table\")\n```\n\n## Update Database\n\nExample Query: http://www.w3schools.com/sql/sql_update.asp\n\n```{r}\nUPDATE Customers\nSET ContactName='Alfred Schmidt', City='Hamburg'\nWHERE CustomerName='Alfreds Futterkiste';\n```\n\nMy query:\n\n```{r}\nwrite_statement <- \"UPDATE new_table\nSET dateOfBirth='1987-01-01'\nWHERE surname='Hadley';\"\n\ndbSendQuery(azure_connection, write_statement)\n```\n\n```{r}\nfoo <- \"UPDATE new_table SET dateOfBirth='2010-01-01' WHERE surname='Hadley';\"\n\ndbSendQuery(azure_connection, write_statement)\n```\n\n\n## Disconnect Database\n\n```{r}\ndbDisconnect(azure_connection)\n```\n\n",
    "created" : 1472132317286.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "415670677",
    "id" : "90F83907",
    "lastKnownWriteTime" : 1473071721,
    "last_content_update" : 1473071721929,
    "path" : "~/Github/OxfordIDN_Shiny-and-Data-Repositories/Azure/index.Rmd",
    "project_path" : "index.Rmd",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}